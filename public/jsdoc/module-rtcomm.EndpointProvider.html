<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: EndpointProvider</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: EndpointProvider</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="module-rtcomm.html">rtcomm</a>.</span>
        
        EndpointProvider
        </h2>
        
            <div class="class-description"><p>Provides Services to register a user and create Endpoints (RtcommEndpoints &amp; MqttEndpoints)</p>
<p><p>
This programming interface lets a JavaScript client application use 
a <a href="module-rtcomm.RtcommEndpoint.html">Real Time Communication Endpoint</a>
to implement WebRTC simply. When <a href="module-rtcomm.EndpointProvider.html">instantiated</a> 
&amp; <a href="module-rtcomm.EndpointProvider.html#init">initialized</a> the
EndpointProvider connects to the defined MQTT Server and subscribes to a unique topic
that is used to receive inbound communication.</p>
<p><p>
See the example in <a href="module-rtcomm.EndpointProvider.html#init">EndpointProvider.init()</a></p>
<p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="EndpointProvider"><span class="type-signature"></span>new EndpointProvider<span class="signature">()</span><span class="type-signature"></span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line35">line 35</a>
    </li></ul></dd>
    

    

    

    
</dl>



<h5>Requires:</h5>
<ul>
    <li>mqttws31.js</li>
</ul>














    
    </div>

    

    
        <h3 class="subsection-title">Requires</h3>

        <ul>
            <li>mqttws31.js</li>
        </ul>
    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="ready"><span class="type-signature"></span>ready<span class="type-signature"></span></h4>




<div class="description">
    <p>State of the EndpointProvider</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line71">line 71</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="currentState"><span class="type-signature"></span>currentState<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Return object indicating state of EndpointProvider 
 <em>NOTE</em> Generally used for debugging purposes</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line823">line 823</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="destroy"><span class="type-signature"></span>destroy<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Destroy all endpoints and cleanup the endpointProvider.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line608">line 608</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="endpoints"><span class="type-signature"></span>endpoints<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h4>

    



<div class="description">
    <p>Array of <a href="module-rtcomm.RtcommEndpoint.html">RtcommEndpoint</a> objects that 
are associated with this  EndpointProvider</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line817">line 817</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Array of <a href="module-rtcomm.RtcommEndpoint.html">RtcommEndpoint</a></p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getAllQueues"><span class="type-signature"></span>getAllQueues<span class="signature">()</span><span class="type-signature"> &rarr; {object}</span></h4>

    



<div class="description">
    <p>List Available Session Queues</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line774">line 774</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Object keyed on QueueID. The value is a Queue Object
that can be used to determine is the queue is active or not.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getEndpointConnection"><span class="type-signature"></span>getEndpointConnection<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Return the endpointConnection the EndpointProvider is using</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line789">line 789</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getLogLevel"><span class="type-signature"></span>getLogLevel<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>

    



<div class="description">
    <p>Return  LogLevel</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line803">line 803</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>INFO, MESSAGE, DEBUG, TRACE</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getMqttEndpoint"><span class="type-signature"></span>getMqttEndpoint<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="module-rtcomm.MqttEndpoint.html">module:rtcomm.MqttEndpoint</a>}</span></h4>

    



<div class="description">
    <p>Create Mqtt Endpoint</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line575">line 575</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-rtcomm.MqttEndpoint.html">module:rtcomm.MqttEndpoint</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getPresenceMonitor"><span class="type-signature"></span>getPresenceMonitor<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="module-rtcomm.PresenceMonitor.html">module:rtcomm.PresenceMonitor</a>}</span></h4>

    



<div class="description">
    <p>Get the PresenceMonitor Object </p>
<p>This object is used to add topics to monitor for presence.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line586">line 586</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-rtcomm.PresenceMonitor.html">module:rtcomm.PresenceMonitor</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getRtcommEndpoint"><span class="type-signature"></span>getRtcommEndpoint<span class="signature">(config<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="module-rtcomm.RtcommEndpoint.html">module:rtcomm.RtcommEndpoint</a>}</span></h4>

    



<div class="description">
    <p>Factory method that returns a RtcommEndpoint object to be used by a UI component.
 <p>
 The RtcommEndpoint object provides an interface for the UI Developer to attach 
 Video and Audio input/output. Essentially mapping a broadcast stream(a MediaStream 
 that is intended to be sent) to a RTCPeerConnection output stream.   When an inbound 
 stream is added to a RTCPeerConnection, then the RtcommEndpoint object also informs the
 RTCPeerConnection where to send that stream in the User Interface.
 </p></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-rtcomm.RtcommEndpoint.html#~config">module:rtcomm.RtcommEndpoint~config</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Any of the parameters in this object can be passed.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line494">line 494</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

    <div class="param-desc">
    
        <p>Error</p>
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>RtcommEndpoint</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-rtcomm.RtcommEndpoint.html">module:rtcomm.RtcommEndpoint</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var endpointProvider = new rtcomm.EndpointProvider();
 var endpointConfig = {
   chat: true,
   webrtc: true,
   };
 endpointProvider.getRtcommEndpoint(endpointConfig);</code></pre>



        
            

    

    <h4 class="name" id="getUserID"><span class="type-signature"></span>getUserID<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Return the userID the EndpointProvider is using</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line785">line 785</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="init"><span class="type-signature"></span>init<span class="signature">(config, onSuccess<span class="signature-attributes">opt</span>, onFailure<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="module-rtcomm.EndpointProvider.html">module:rtcomm.EndpointProvider</a>}</span></h4>

    



<div class="description">
    <p>init method</p>
<p> This method is required to be called prior to doing anything else.  If init() is called w/ a userid, the
 userid is <em>automatically</em> registered.  If it is called w/out a userid, then the EndpointProvider is 
 <em>anonymous</em>.  A userid will be generated for security purposes called 'GUEST-<randomnumber>'.  This is 
 necessary to have a localEndpointID that can be used for MQTT security.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>server</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>MQTT Server</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>User ID or Identity</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>appContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    rtcomm
                
                </td>
            

            <td class="description last"><p>App Context for EndpointProvider</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>port</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    1883
                
                </td>
            

            <td class="description last"><p>MQTT Server Port. Defaults to 1883 (if no sslport set, we use this no matter what)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sslport</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    8883
                
                </td>
            

            <td class="description last"><p>MQTT Server Port.  Defaults to 8883 (used if served over https)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>managementTopicName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    management
                
                </td>
            

            <td class="description last"><p>managementTopicName on rtcomm server</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>rtcommTopicPath</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    /rtcomm/
                
                </td>
            

            <td class="description last"><p>MQTT Path to prefix managementTopicName with and register under</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>createEndpoint</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Automatically create a <a href="module-rtcomm.RtcommEndpoint.html">RtcommEndpoint</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>monitorPresence</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    true
                
                </td>
            

            <td class="description last"><p>Automatically create a presence monitor and emit events on the endpoint provider.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>requireRtcommServer</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>Require an Rtcomm Server for routing</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onSuccess</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback function when init is complete successfully.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onFailure</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback funtion if a failure occurs during init</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line152">line 152</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-rtcomm.EndpointProvider.html">module:rtcomm.EndpointProvider</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var endpointProvider = new ibm.rtcomm.RtcommEndpointProvider();
var endpointProviderConfig = {
  server : 'messagesight.demos.ibm.com',
  userid : 'ibmAgent1@mysurance.org',
  rtcommTopicPath : '/rtcomm/',
  port : 1883,
  createEndpoint : true,
  credentials : null
};

// Initialize the Service. [Using onSuccess/onFailure callbacks]
// This initializes the MQTT layer and enables inbound Communication.
var rtcommEndpoint = null;
endpointProvider.init(endpointProviderConfig,
   function(object) { //onSuccess
       console.log('init was successful, rtcommEndpoint: ', object);
       rtcommEndpoint = object;
   },
   function(error) { //onFailure
      console.error('init failed: ', error);
     }
);</code></pre>



        
            

    

    <h4 class="name" id="joinQueue"><span class="type-signature"></span>joinQueue<span class="signature">(queueid)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Join a Session Queue</p>
<p>
A Session Queue is a subscription to a Shared Topic.  By joining a queue, it enables
the all RtcommEndpoints to be 'available' to receive an inbound request from the queue topic.
Generally, this could be used for an Agent scenario where many endpoints have joined the 
queue, but only 1 endpoint will receive the inbound request.<br></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>queueid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Id of a queue to join.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line719">line 719</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>Unable to find Queue specified</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>Queue Join successful</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="leaveAllQueues"><span class="type-signature"></span>leaveAllQueues<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Leave all queues currently joined</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line761">line 761</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="leaveQueue"><span class="type-signature"></span>leaveQueue<span class="signature">(queueid)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Leave a queue</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>queueid</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>Id of a queue to leave.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line741">line 741</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="publishPresence"><span class="type-signature"></span>publishPresence<span class="signature">(presenceConfig)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Make your presence available</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>presenceConfig</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>One of 'available', 'unavailable', 'away', 'busy'</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>alias</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>An alias to be associated with the presence record</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userDefines</code></td>
            

            <td class="type">
            
                
<span class="param-type">array</span>


            
            </td>

            

            

            <td class="description last"><p>Array of userdefined objects associated w/ presence</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line674">line 674</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="requireServer"><span class="type-signature"></span>requireServer<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    



<div class="description">
    <p>Return  requireRtcommServer</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line810">line 810</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setAppContext"><span class="type-signature"></span>setAppContext<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="module-rtcomm.EndpointProvider.html">module:rtcomm.EndpointProvider</a>}</span></h4>

    



<div class="description">
    <p>Set the AppContext. </p>
<p>It is necessary to call setAppContext() prior to getRtcommEndpoint() if
init() has not been called</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line632">line 632</a>
    </li></ul></dd>
    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        <p>Cannot change appContext once init'd</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>EndpointProvider object</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="module-rtcomm.EndpointProvider.html">module:rtcomm.EndpointProvider</a></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="setLogLevel"><span class="type-signature"></span>setLogLevel<span class="signature">(INFO,)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Set LogLevel</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>INFO,</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>MESSAGE, DEBUG, TRACE</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line797">line 797</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setRtcommEndpointConfig"><span class="type-signature"></span>setRtcommEndpointConfig<span class="signature">(config<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Pre-define RtcommEndpoint configuration.  This provides the means to create a common
configuration all RtcommEndpoints will use, including the same event handlers.  </p>
<p><em>NOTE</em> This should be set PRIOR to calling getRtcommEndpoint()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-rtcomm.RtcommEndpoint.html#~config">module:rtcomm.RtcommEndpoint~config</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Any of the parameters in this object can be passed.</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>event</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Events are defined in <a href="module-rtcomm.RtcommEndpoint.html">RtcommEndpoint</a></p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line468">line 468</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>endpointProvider.setRtcommEndpointConfig({
  appContext : "testApp",
  ringtone: "resources/ringtone.wav",
  ringbacktone: "resources/ringbacktone.wav",
  chat: true,
  chatConfig: {},
  webrtc:true,
  webrtcConfig:{
    broadcast: { audio: true, video: true},
    iceServers: ["stun:stun1.l.google.com:19302", "stun:stun2.l.google.com:19302"],
  },
  'session:started': function(event) {

  }, 
  'session:alerting': function(event) {

  }
  });</code></pre>



        
            

    

    <h4 class="name" id="updateQueues"><span class="type-signature"></span>updateQueues<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    <p>Update queues from server</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line696">line 696</a>
    </li></ul></dd>
    

    

    

    
</dl>





<h5>Fires:</h5>
<ul>
    <li><a href="module-rtcomm.EndpointProvider.html#event:queueupdate">module:rtcomm.EndpointProvider#event:queueupdate</a></li>
</ul>












        
    

    

    
        <h3 class="subsection-title">Events</h3>

        
            

    

    <h4 class="name" id="event:newendpoint">newendpoint</h4>

    



<div class="description">
    <p>A new RtcommEndpoint was created from an inbound</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            

            <td class="type">
            
                
<span class="param-type"><a href="module-rtcomm.RtcommEndpoint.html">module:rtcomm.RtcommEndpoint</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line73">line 73</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:presence_updated">presence_updated</h4>

    



<div class="description">
    <p>The Presence was Updated</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            

            <td class="type">
            
                
<span class="param-type">module:rtcomm.PresenceMonitor.presenceData</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line86">line 86</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:queueupdate">queueupdate</h4>

    



<div class="description">
    <p>The Session Queue was updated from the server</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            

            <td class="type">
            
                
<span class="param-type">module:rtcomm.Queues</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line79">line 79</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="event:reset">reset</h4>

    



<div class="description">
    <p>The endpoint Provider has reset.  Usually due to another peer logging in with the same presence. 
The event has a 'reason' property indicating why the EndpointProvider was reset.</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            

            <td class="type">
            
                
<span class="param-type">module:reason</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="EndpointProvider_EndpointProvider.js.html">EndpointProvider/EndpointProvider.js</a>, <a href="EndpointProvider_EndpointProvider.js.html#line93">line 93</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-rtcomm.html">rtcomm</a></li></ul><h3>Classes</h3><ul><li><a href="module-rtcomm.EndpointProvider.html">EndpointProvider</a></li><li><a href="module-rtcomm.MqttEndpoint.html">MqttEndpoint</a></li><li><a href="module-rtcomm.PresenceMonitor.html">PresenceMonitor</a></li><li><a href="module-rtcomm.PresenceMonitor.PresenceNode.html">PresenceNode</a></li><li><a href="module-rtcomm.RtcommEndpoint.html">RtcommEndpoint</a></li><li><a href="module-rtcomm.RtcommEndpoint.Chat.html">Chat</a></li><li><a href="module-rtcomm.RtcommEndpoint.WebRTCConnection.html">WebRTCConnection</a></li><li><a href="module-rtcomm.util.RtcommBaseObject.html">RtcommBaseObject</a></li></ul><h3>Events</h3><ul><li><a href="module-rtcomm.EndpointProvider.html#event:newendpoint">newendpoint</a></li><li><a href="module-rtcomm.EndpointProvider.html#event:presence_updated">presence_updated</a></li><li><a href="module-rtcomm.EndpointProvider.html#event:queueupdate">queueupdate</a></li><li><a href="module-rtcomm.EndpointProvider.html#event:reset">reset</a></li><li><a href="module-rtcomm.PresenceMonitor.html#event:updated">updated</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:chat:connected">chat:connected</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:chat:disconnected">chat:disconnected</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:chat:message">chat:message</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:destroyed">destroyed</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:onetimemessage">onetimemessage</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:alerting">session:alerting</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:failed">session:failed</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:queued">session:queued</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:refer">session:refer</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:ringing">session:ringing</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:started">session:started</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:session:stopped">session:stopped</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:webrtc:connected">webrtc:connected</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:webrtc:disconnected">webrtc:disconnected</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:webrtc:failed">webrtc:failed</a></li><li><a href="module-rtcomm.RtcommEndpoint.html#event:webrtc:remotemuted">webrtc:remotemuted</a></li></ul><h3>Global</h3><ul><li><a href="global.html#applyConfig">applyConfig</a></li><li><a href="global.html#generateRandomBytes">generateRandomBytes</a></li><li><a href="global.html#validateConfig">validateConfig</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Tue Jan 05 2016 10:19:37 GMT-0700 (MST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>